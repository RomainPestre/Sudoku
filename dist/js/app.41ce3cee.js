(function(t){function e(e){for(var n,r,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},a={app:0},i=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Navbar"),o("router-view")],1)},i=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app-bar",{attrs:{app:"",dark:""}},[o("v-toolbar-title",{staticClass:"mx-12 title"},[t._v("Books Database")]),o("v-spacer"),o("Login")],1)},s=[],l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({staticClass:"blue--text  title",attrs:{hidden:t.loginBtnHidden}},n),[t._v("Login / Register")])]}}]),model:{value:t.loginDialog,callback:function(e){t.loginDialog=e},expression:"loginDialog"}},[o("v-card",[o("v-toolbar",{staticClass:"mb-5"},[o("v-toolbar-title",{staticClass:" title "},[t._v("Login or Register here")])],1),o("v-form",{staticClass:"px-3 ml-3 py-3"},[o("v-text-field",{staticClass:"mb-4",attrs:{label:"Username","prepend-icon":"mdi-account"},model:{value:t.loginInfos.username,callback:function(e){t.$set(t.loginInfos,"username",e)},expression:"loginInfos.username"}}),o("v-text-field",{attrs:{label:"Password",type:"password","prepend-icon":"mdi-lock"},model:{value:t.loginInfos.password,callback:function(e){t.$set(t.loginInfos,"password",e)},expression:"loginInfos.password"}}),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"px-4 mb-1 mr-10 px-7 title",on:{click:t.login}},[t._v("Login")]),o("v-btn",{staticClass:"px-4 mb-1 px-5 title",on:{click:t.register}},[t._v("Register")]),o("v-spacer")],1)],1)],1)],1),o("v-btn",{staticClass:"mx-12 px-8 blue--text",attrs:{hidden:!t.loginBtnHidden},on:{click:t.logout}},[t._v("Log Out")])],1)},c=[],u=(o("ac1f"),o("5319"),o("615e")),d={data:function(){return{connected:!1,loginBtnHidden:!1,loginDialog:!1,error:"",loginInfos:{username:"",password:""}}},methods:{login:function(){var t=this;this.axios.post(u["url"]+"/api/login",this.loginInfos).then((function(e){t.loginDialog=!1,t.loginBtnHidden=!0,t.connected=!0,t.$router.replace("/books")})).catch((function(t){alert(t.response.data.message)}))},register:function(){var t=this;this.axios.post(u["url"]+"/api/register",this.loginInfos).then((function(e){t.loginDialog=!1,t.loginBtnHidden=!0,t.connected=!0,t.$router.replace("/books")})).catch((function(t){alert(t.response.data.message)}))},logout:function(){var t=this;this.axios.get(u["url"]+"/api/logout").then((function(e){t.loginBtnHidden=!1,t.connected=!1,t.$router.replace("/")}))}},created:function(){var t=this;this.axios.get(u["url"]+"/api/isConnected").then((function(e){t.connected=e.data.connected,t.loginBtnHidden=t.connected,t.connected&&t.$router.replace("/books")}))}},p=d,f=o("2877"),v=o("6544"),g=o.n(v),h=o("8336"),m=o("b0af"),b=o("99d9"),x=o("169a"),k=o("4bd4"),_=o("2fa4"),y=o("8654"),C=o("71d9"),B=o("2a7f"),V=Object(f["a"])(p,l,c,!1,null,null,null),w=V.exports;g()(V,{VBtn:h["a"],VCard:m["a"],VCardActions:b["a"],VDialog:x["a"],VForm:k["a"],VSpacer:_["a"],VTextField:y["a"],VToolbar:C["a"],VToolbarTitle:B["a"]});var I={components:{Login:w}},j=I,O=o("40dc"),$=Object(f["a"])(j,r,s,!1,null,null,null),L=$.exports;g()($,{VAppBar:O["a"],VSpacer:_["a"],VToolbarTitle:B["a"]});var S={name:"App",components:{Navbar:L},data:function(){return{}}},D=S,T=o("7496"),A=Object(f["a"])(D,a,i,!1,null,null,null),P=A.exports;g()(A,{VApp:T["a"]});var H=o("f309");n["a"].use(H["a"]);var E=new H["a"]({}),M=o("8c4f"),R=o("a7fe"),F=o.n(R),J=o("bc3a"),N=o.n(J),z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-parallax",{attrs:{dark:"",src:"https://cdn.vuetifyjs.com/images/parallax/material.jpg",height:"1000"}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[o("h1",{staticClass:"display-3 .font-weight-medium mb-4 "},[t._v("Login to access your list of books")])])],1)],1)},U=[],q=o("62ad"),G=o("8b9c"),K=o("0fd9"),Q={},W=Object(f["a"])(Q,z,U,!1,null,null,null),X=W.exports;g()(W,{VCol:q["a"],VParallax:G["a"],VRow:K["a"]});var Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mx-auto",staticStyle:{"margin-top":"150px"}},[o("v-card",{staticClass:"d-flex flex-row flex-wrap mb-6",staticStyle:{"box-sizing":"border-box"},attrs:{color:"grey lighten-5",tile:"","min-width":"300","max-width":"1530"}},[t._l(t.books,(function(e){return o("v-card",{key:e.id,staticClass:"mx-7 my-5 pa-1 ",attrs:{"max-width":"250"}},[o("v-img",{attrs:{src:e.image,height:"250",width:"250"}}),o("v-list-item",[o("v-list-item-content",[o("v-list-item-subtitle",[t._v(t._s("by "+e.author))])],1)],1),o("v-card-actions",[o("a",{staticClass:"mx-auto",attrs:{href:e.moreInfo,target:"_blank"}},[t._v("More Infos")]),o("v-btn",{staticClass:"mx-auto red--text px-6",attrs:{text:""},on:{click:function(o){return t.deleteBook(e.id)}}},[t._v("Delete")])],1)],1)})),o("AddBookDialog",{attrs:{myBooks:t.books},on:{bookChosen:t.addBook}})],2)],1)},Z=[],tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-dialog",{attrs:{scrollable:"","max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-card",{staticClass:"mx-7 my-5",attrs:{width:"250"}},[o("v-card-actions",[o("v-btn",t._g({staticStyle:{margin:"150px auto"},attrs:{color:"success",fab:"","x-large":"",dark:""},on:{click:t.getBooks}},n),[o("v-icon",[t._v("mdi-plus")])],1)],1)],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",[t._v("Select a Book")]),o("v-card-text",t._l(t.filteredBooks,(function(e){return o("v-list-item",{key:e.id,staticClass:"my-7"},[o("v-list-item-avatar",[o("v-img",{attrs:{src:e.image,height:"50",width:"50"}})],1),o("v-list-item-content",[o("v-list-item-title",[o("v-btn",{attrs:{text:""},on:{click:function(o){return t.bookChosen(e.id)}}},[t._v(t._s(e.title))])],1)],1)],1)})),1)],1)],1)],1)},et=[],ot=(o("4de4"),o("7db0"),o("e25e"),{data:function(){return{allBooks:[],dialog:!1,filteredBooks:[]}},methods:{bookChosen:function(t){this.dialog=!1,this.$emit("bookChosen",t)},getBooks:function(){var t=this;this.axios.get(u["url"]+"/api/books").then((function(e){t.filteredBooks=t.allBooks.filter((function(t){return!e.data.books.find((function(e){return parseInt(e.id)===parseInt(t.id)}))}))}))}},created:function(){var t=this;this.axios.get(u["url"]+"/api/allBooks").then((function(e){t.allBooks=e.data.books}))}}),nt=ot,at=o("132d"),it=o("adda"),rt=o("da13"),st=o("8270"),lt=o("5d23"),ct=Object(f["a"])(nt,tt,et,!1,null,null,null),ut=ct.exports;g()(ct,{VBtn:h["a"],VCard:m["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VDialog:x["a"],VIcon:at["a"],VImg:it["a"],VListItem:rt["a"],VListItemAvatar:st["a"],VListItemContent:lt["a"],VListItemTitle:lt["c"]});var dt={components:{AddBookDialog:ut},data:function(){return{books:[]}},methods:{getBooks:function(){var t=this;this.axios.get(u["url"]+"/api/books").then((function(e){t.books=e.data.books}))},addBook:function(t){var e=this;this.axios.post(u["url"]+"/api/addBook/"+t).then((function(t){e.getBooks()})).catch((function(t){return alert(t.response.data.error)}))},deleteBook:function(t){var e=this;this.axios.post(u["url"]+"/api/deleteBook/"+t).then((function(t){e.getBooks()})).catch((function(t){return alert(t.response.data.error)}))}},created:function(){var t=this;this.axios.get(u["url"]+"/api/isConnected").then((function(e){e.data.connected||t.$router.replace("/")})),this.getBooks()}},pt=dt,ft=Object(f["a"])(pt,Y,Z,!1,null,null,null),vt=ft.exports;g()(ft,{VBtn:h["a"],VCard:m["a"],VCardActions:b["a"],VImg:it["a"],VListItem:rt["a"],VListItemContent:lt["a"],VListItemSubtitle:lt["b"]}),n["a"].config.productionTip=!1,N.a.defaults.withCredentials=!0,n["a"].use(F.a,N.a),n["a"].use(M["a"]);var gt=[{path:"/",component:X},{path:"/login",component:w},{path:"/books",component:vt}],ht=new M["a"]({routes:gt});new n["a"]({vuetify:E,router:ht,render:function(t){return t(P)}}).$mount("#app")},"615e":function(t,e){t.exports={url:""}}});
//# sourceMappingURL=app.41ce3cee.js.map